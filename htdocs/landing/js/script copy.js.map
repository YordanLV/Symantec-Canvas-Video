{"version":3,"sources":["script copy.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Carousel","canvas","window","buttons","navigateCallback","self","this","now","lastFrame","scroll","targetScroll","scrollDivisor","buttonLabelImage","document","createElement","src","backgroundTimeout","dragStart","dragScrollStart","dragMultiplier","isVisible","mouse","pending","canClick","canDrag","isDragging","floatOffset","initiateCanvas","startAnimating","prototype","animation","delta","nowSeconds","update","render","requestAnimationFrame","updateCanvas","addEventListener","forEach","button","iconImage","icon","event","mouseUpdate","position","getBoundingClientRect","setVisible","visibility","wasAutomatic","classList","remove","add","clearTimeout","setTimeout","mouseSetCursor","cursor","style","mouseSetCanDrag","mouseSetCanClick","isActive","x","clientX","left","clientWidth","y","clientY","top","clientHeight","right","middle","back","forward","mouseClear","dragDifference","Math","abs","round","wrapScroll","PI","totalScroll","ctx","getContext","clearRect","width","height","save","renderButtons","renderTarget","restore","scale","scrollAmount","offsetAmount","currentButton","currentPercent","currentScale","currentX","currentY","currentFloatY","currentAlpha","currentLabelAlpha","translate","min","sin","cos","pow","globalAlpha","renderButton","labelAlpha","labelWidth","drawImage","font","textAlign","measureText","title","fillStyle","fillRect","fillText","category","size","lineWidth","beginPath","renderTargetArc","strokeStyle","stroke","offset","arc","performance-now","2","userSelectedVideo","selectedVideo","carousel","video","setAttribute","mp4","load","querySelector","menu","logoLink","removeAttribute","play","pause","ev","preventDefault","location","reload","EMS","carouselVideos","./Carousel","3","process","getNanoSeconds","hrtime","loadTime","performance","hr","Date","getTime","_process","4","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","cachedSetTimeout","len","run","cachedClearTimeout","Item","fun","array","noop","nextTick","args","Array","arguments","push","apply","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","5","global","webkitRequestAnimationFrame","cancelAnimationFrame","lastTime","callback","currTime","timeToCall","max","id","define"],"mappings":"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","file":"script copy.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*jslint node: true, browser: true, bitwise: true */\n'use strict';\n\nrequire('requestAnimationFrame');\n\nfunction Carousel(canvas, window, buttons, navigateCallback) {\n    var self = this;\n\n    self.now = require('performance-now');\n    self.lastFrame = null;\n    self.canvas = canvas;\n    self.window = window;\n\n    self.buttons = buttons;\n    self.scroll = 0;\n    self.targetScroll = 0;\n    self.scrollDivisor = 1000;\n\n    self.buttonLabelImage = document.createElement('img');\n    self.buttonLabelImage.src = 'images/ui/label-top.png';\n\n    self.backgroundTimeout = null;\n\n    self.dragStart = 0;\n    self.dragScrollStart = 0;\n    self.dragMultiplier = 0.005;\n\n    self.isVisible = false;\n\n    self.navigateCallback = navigateCallback;\n\n    self.mouse = {\n        pending: { }\n    };\n    self.canClick = false;\n    self.canDrag = false;\n    self.isDragging = false;\n\n    self.floatOffset = 0;\n\n    self.initiateCanvas();\n    self.startAnimating();\n}\n\nCarousel.prototype.startAnimating = function () {\n    var self = this;\n\n    (function animation() {\n        var nowSeconds = self.now() / 1000,\n            delta;\n        if (self.lastFrame === null) {\n            self.lastFrame = nowSeconds;\n            delta = 60 / 1000;\n        } else {\n            delta = nowSeconds - self.lastFrame;\n            self.lastFrame = nowSeconds;\n        }\n\n        if (delta > (60 / 1000) * 20) {\n            delta = (60 / 1000) * 20;\n        }\n\n        if (self.isVisible) {\n            self.update(delta);\n            self.render();\n        }\n\n        self.window.requestAnimationFrame(animation);\n    }());\n};\n\nCarousel.prototype.initiateCanvas = function () {\n    var self = this;\n\n    self.updateCanvas();\n    self.window.addEventListener('resize', function () {\n        self.updateCanvas();\n    });\n\n    self.buttons.forEach(function (button) {\n        button.iconImage = document.createElement('img');\n        button.iconImage.src = button.icon;\n    });\n\n    self.canvas.addEventListener('mouseenter', function (event) { self.mouseUpdate(event, true); });\n    self.canvas.addEventListener('mousemove', function (event) { self.mouseUpdate(event, true); });\n    self.canvas.addEventListener('mousedown', function (event) { self.mouseUpdate(event, true); });\n    self.canvas.addEventListener('mouseup', function (event) { self.mouseUpdate(event, true); });\n    self.canvas.addEventListener('mouseleave', function (event) { self.mouseUpdate(event, false); });\n};\n\nCarousel.prototype.updateCanvas = function () {\n    var self = this;\n\n    self.canvas.position = self.canvas.getBoundingClientRect();\n};\n\nCarousel.prototype.setVisible = function (visibility, wasAutomatic) {\n    var self = this;\n\n    self.isVisible = visibility;\n\n    if (visibility) {\n        self.canvas.classList.remove('inactive');\n\n        if (wasAutomatic) {\n            self.canvas.classList.add('solid-background');\n\n            self.scroll = self.targetScroll - 6;\n            self.scrollDivisor = 3000;\n        } else {\n            self.canvas.classList.remove('solid-background');\n        }\n    } else {\n        self.canvas.classList.add('inactive');\n\n        if (self.backgroundTimeout !== null) {\n            clearTimeout(self.backgroundTimeout);\n        }\n        setTimeout(function () {\n            self.canvas.classList.remove('solid-background');\n        }, 1500);\n    }\n};\n\nCarousel.prototype.mouseSetCursor = function (cursor) {\n    var self = this;\n\n    self.canvas.style.cursor = cursor;\n};\nCarousel.prototype.mouseSetCanDrag = function () {\n    var self = this;\n\n    if (!self.canDrag) {\n        self.canDrag = true;\n        self.canClick = false;\n        self.mouseSetCursor('ew-resize');\n    }\n};\nCarousel.prototype.mouseSetCanClick = function () {\n    var self = this;\n\n    if (!self.canClick) {\n        self.canClick = true;\n        self.canDrag = false;\n        self.mouseSetCursor('pointer');\n    }\n};\nCarousel.prototype.mouseUpdate = function (event, isActive) {\n    var self = this;\n\n    self.mouse.pending.x = (event.clientX - self.canvas.position.left) / self.canvas.clientWidth * 1920;\n    self.mouse.pending.y = (event.clientY - self.canvas.position.top) / self.canvas.clientHeight * 1080;\n    self.mouse.pending.left = (event.buttons & 1) === 1;\n    self.mouse.pending.right = (event.buttons & 2) === 2;\n    self.mouse.pending.middle = (event.buttons & 4) === 4;\n    self.mouse.pending.back = (event.buttons & 8) === 8;\n    self.mouse.pending.forward = (event.buttons & 16) === 16;\n    self.mouse.pending.isActive = isActive;\n};\nCarousel.prototype.mouseClear = function () {\n    var self = this;\n\n    self.mouse.x = self.mouse.pending.x;\n    self.mouse.y = self.mouse.pending.y;\n    self.mouse.left = self.mouse.pending.left;\n    self.mouse.right = self.mouse.pending.right;\n    self.mouse.middle = self.mouse.pending.middle;\n    self.mouse.back = self.mouse.pending.back;\n    self.mouse.forward = self.mouse.pending.forward;\n    self.mouse.isActive = self.mouse.pending.isActive;\n};\n\nCarousel.prototype.update = function (delta) {\n    var self = this, dragDifference;\n\n    self.updateCanvas();\n\n    self.scroll += (self.targetScroll - self.scroll) / (delta * self.scrollDivisor);\n\n    if (Math.abs(self.mouse.x - 1920 / 2) < 275 && Math.abs(self.mouse.y - 1080 / 2) < 275 && !self.isDragging) {\n        self.mouseSetCanClick();\n    } else {\n        self.mouseSetCanDrag();\n    }\n\n    if (self.mouse.left && !self.mouse.pending.left && self.canClick) {\n        if (self.navigateCallback) {\n            self.navigateCallback(self.buttons[Math.round(self.scroll)]);\n        }\n    }\n\n    if (self.isDragging) {\n        self.scrollDivisor = 1000;\n\n        if (self.mouse.left && self.mouse.pending.left) {\n            dragDifference = self.mouse.x - self.dragStart;\n\n            self.scroll = self.dragScrollStart - dragDifference * self.dragMultiplier;\n            self.targetScroll = self.scroll;\n        } else {\n            self.targetScroll = Math.round(self.targetScroll);\n            self.isDragging = false;\n        }\n    }\n    if (!self.mouse.left && self.mouse.pending.left && self.canDrag) {\n        self.isDragging = true;\n        self.dragStart = self.mouse.x;\n        self.dragScrollStart = self.scroll;\n    }\n\n    self.wrapScroll();\n\n    self.floatOffset += delta / 2;\n    if (self.floatOffset > Math.PI) {\n        self.floatOffset -= Math.PI * 2;\n    }\n\n    self.mouseClear();\n\n    return delta;\n};\n\nCarousel.prototype.wrapScroll = function () {\n    var self = this, totalScroll = self.buttons.length;\n\n    while (self.targetScroll <= 0) {\n        self.targetScroll += totalScroll;\n        self.scroll += totalScroll;\n    }\n    while (self.targetScroll >= totalScroll) {\n        self.targetScroll -= totalScroll;\n        self.scroll -= totalScroll;\n    }\n};\n\nCarousel.prototype.render = function () {\n    var self = this,\n        ctx = this.canvas.getContext('2d');\n\n    ctx.clearRect(0, 0, self.canvas.width, self.canvas.height);\n\n    ctx.save();\n\n    self.renderButtons(ctx, self.buttons);\n    self.renderTarget(ctx);\n\n    ctx.restore();\n};\n\nCarousel.prototype.renderButtons = function (ctx, buttons) {\n    var self = this, i, scale,\n        scrollAmount, offsetAmount,\n        currentButton, currentPercent, currentScale, currentX, currentY, currentFloatY, currentAlpha, currentLabelAlpha;\n\n    scrollAmount = self.scroll / (self.buttons.length);\n\n    ctx.save();\n    ctx.translate(self.canvas.width / 2, self.canvas.height / 2);\n    scale = Math.min(self.canvas.width, self.canvas.height) / 2;\n    ctx.scale(scale, scale);\n\n    for (i = 0; i < buttons.length; i += 1) {\n        ctx.save();\n\n        currentPercent = i / (self.buttons.length);\n\n        offsetAmount = currentPercent * -1 - 0.5;\n\n        currentX = Math.sin((scrollAmount + offsetAmount) * Math.PI * 2) * 1.6;\n        currentY = (-Math.cos((scrollAmount + offsetAmount) * Math.PI * 2) - 1) * 0.3;\n        currentScale = 0.2 + (-Math.cos((scrollAmount + offsetAmount) * Math.PI * 2) + 1) / 3.5;\n        currentAlpha = (-Math.cos((scrollAmount + offsetAmount) * Math.PI * 2) + 1) / 2;\n        currentLabelAlpha = Math.pow(currentAlpha, 100);\n\n        currentFloatY = (Math.sin(self.floatOffset + (Math.PI * 8 * currentPercent)) / 40);\n\n        ctx.globalAlpha = currentAlpha;\n        ctx.translate(currentX, currentY);\n\n        ctx.scale(currentScale, currentScale);\n\n        currentButton = buttons[i];\n\n        self.renderButton(ctx, currentButton, currentFloatY, currentLabelAlpha);\n\n        ctx.restore();\n    }\n\n    ctx.restore();\n};\nCarousel.prototype.renderButton = function (ctx, button, floatOffset, labelAlpha) {\n    var self = this,\n        labelWidth;\n\n    ctx.save();\n    ctx.translate(0, floatOffset);\n    ctx.drawImage(button.iconImage, -0.325, -0.325, 0.55, 0.55);\n    ctx.restore();\n\n    if (labelAlpha < 0.001) {\n        return;\n    }\n    ctx.globalAlpha = labelAlpha;\n\n    ctx.scale(0.005, 0.005);\n\n    ctx.font = '20px Arial';\n    ctx.textAlign = 'center';\n    labelWidth = ctx.measureText(button.title).width + 40;\n\n    ctx.fillStyle = '#1b4e80';\n    ctx.fillRect(-11.5 - labelWidth / 2, 175, labelWidth, 35);\n    ctx.drawImage(self.buttonLabelImage, -23.5, 164.4, 24, 10.6);\n\n    ctx.fillStyle = '#fbc22d';\n    ctx.fillText(button.title, -11.5, 200);\n\n    ctx.font = '28px Open Sans';\n    ctx.textAlign = 'center';\n    ctx.fillStyle = '#466fd3';\n    ctx.fillText(button.category, -9.8, -175);\n};\nCarousel.prototype.renderTarget = function (ctx) {\n    var self = this,\n        size = Math.min(self.canvas.width, self.canvas.height) * 0.275;\n\n    ctx.save();\n\n    ctx.translate(self.canvas.width / 2, self.canvas.height / 2);\n    ctx.scale(size, size);\n\n    ctx.lineWidth = size * 0.001;\n\n    ctx.beginPath();\n    self.renderTargetArc(ctx, 0.05);\n    ctx.strokeStyle = 'rgba(0, 0, 0, 0.3)';\n    ctx.stroke();\n\n    ctx.beginPath();\n    self.renderTargetArc(ctx, 0);\n    ctx.strokeStyle = '#fbc22d';\n    ctx.stroke();\n\n    ctx.restore();\n};\n\nCarousel.prototype.renderTargetArc = function (ctx, offset) {\n    ctx.arc(offset - 0.089, offset - 0.02, 0.9, 0, Math.PI * 2);\n};\n\nmodule.exports = Carousel;\n\n},{\"performance-now\":3,\"requestAnimationFrame\":5}],2:[function(require,module,exports){\n/*jslint node: true, browser: true */\n/*global EMS */\n'use strict';\n\nvar video = document.querySelector('article.video > video');\nvar carousel;\nvar menu = document.querySelector('[data-action=\"show-navigation\"]');\nvar logoLink = document.querySelector('a.logo-link');\n\nvideo.addEventListener('ended', function () {\n    carousel.setVisible(true, true);\n    video.removeAttribute('controls');\n});\n\nmenu.addEventListener('click', function () {\n    if (carousel.isVisible) {\n        carousel.setVisible(false);\n        video.setAttribute('controls', true);\n        video.play();\n    } else {\n        carousel.setVisible(true);\n        video.removeAttribute('controls');\n        video.pause();\n    }\n});\n\nlogoLink.addEventListener('click', function (ev) {\n    ev.preventDefault();\n\n    location.reload();\n\n    return false;\n});\n\nfunction userSelectedVideo(selectedVideo) {\n    carousel.setVisible(false);\n    video.setAttribute('controls', true);\n\n    video.src = selectedVideo.video.mp4;\n    video.load();\n}\n\ncarousel = new (require('./Carousel'))(document.querySelector('article.video > canvas'), window, EMS.carouselVideos, userSelectedVideo);\n\n},{\"./Carousel\":1}],3:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"_process\":4}],4:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],5:[function(require,module,exports){\n/**\n * requestAnimationFrame version: \"0.0.17\" Copyright (c) 2011-2012, Cyril Agosta ( cyril.agosta.dev@gmail.com) All Rights Reserved.\n * Available via the MIT license.\n * see: http://github.com/cagosta/requestAnimationFrame for details\n *\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n * MIT license\n *\n */\n\n\n( function( global ) {\n\n\n    ( function() {\n\n\n        if ( global.requestAnimationFrame ) {\n\n            return;\n\n        }\n\n        if ( global.webkitRequestAnimationFrame ) { // Chrome <= 23, Safari <= 6.1, Blackberry 10\n\n            global.requestAnimationFrame = global[ 'webkitRequestAnimationFrame' ];\n            global.cancelAnimationFrame = global[ 'webkitCancelAnimationFrame' ] || global[ 'webkitCancelRequestAnimationFrame' ];\n\n        }\n\n        // IE <= 9, Android <= 4.3, very old/rare browsers\n\n        var lastTime = 0;\n\n        global.requestAnimationFrame = function( callback ) {\n\n            var currTime = new Date().getTime();\n\n            var timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\n\n            var id = global.setTimeout( function() {\n\n                callback( currTime + timeToCall );\n\n            }, timeToCall );\n\n            lastTime = currTime + timeToCall;\n\n            return id; // return the id for cancellation capabilities\n\n        };\n\n        global.cancelAnimationFrame = function( id ) {\n\n            clearTimeout( id );\n\n        };\n\n    } )();\n\n    if ( typeof define === 'function' ) {\n\n        define( function() {\n\n            return global.requestAnimationFrame;\n\n        } );\n\n    }\n\n} )( window );\n},{}]},{},[2]);\n"],"sourceRoot":"/source/"}